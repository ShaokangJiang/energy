<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0" />
    <title>Energy -- setting
        <!--{cn}能量 -- 设置-->
    </title>

    <!-- CSS  -->
    <link href="css/icon.css" rel="stylesheet">
    <link href="css/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <script src="./js/solver.js"></script>
    <script src="./js/jquery-2.1.1.min.js"></script>
    <script src="./js/translater.min.js"></script>
    <script src="./js/papaparse.min.js"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
</head>

<body>

    <nav class="Maroon" role="navigation">
        <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">Setting<!--{cn}设置--></a>

            <ul class="right hide-on-med-and-down">
                <li id="nav-cn"><a href="javascript:;" onclick="tran.setLang('cn');document.getElementById('nav-en').className = '';document.getElementById('nav-en-m').className = '';document.getElementById('nav-cn-m').className = 'active';document.getElementById('nav-cn').className = 'active';">中文</a></li>
                <li id="nav-en" class="active"><a href="javascript:;" onclick="tran.setLang('default');document.getElementById('nav-en').className = 'active';document.getElementById('nav-en-m').className = 'active';document.getElementById('nav-cn').className = '';document.getElementById('nav-cn-m').className = '';">EN</a></li>
            </ul>

            <ul id="nav-mobile" class="sidenav">
                <li id="nav-cn-m"><a href="javascript:;" onclick="tran.setLang('cn');document.getElementById('nav-en').className = '';document.getElementById('nav-en-m').className = '';document.getElementById('nav-cn-m').className = 'active';document.getElementById('nav-cn').className = 'active';">中文</a></li>
                <li id="nav-en-m" class="active"><a href="javascript:;" onclick="tran.setLang('default');document.getElementById('nav-en').className = 'active';document.getElementById('nav-en-m').className = 'active';document.getElementById('nav-cn').className = '';document.getElementById('nav-cn-m').className = '';">EN</a></li>
            </ul>
            <a href="#" data-target="nav-mobile" class="sidenav-trigger"><i class="material-icons">translate</i></a>

        </div>
    </nav>

    <br><br>


    <div class="row">
        <div class="col s0 m0 l1">
        </div>


        <div class="col s12 m12 l5">
            <div class="card white z-depth-3">
                <div class="card-content black-text">
                    <span class="card-title">General Introduction<!--{cn}总体介绍--></span>
                    <p>Welcome to this combination energy tool.
                        <!--{cn}欢迎使用这个组合能量工具。-->
                    </p>
                    <p>Data file input will be shown once you set up threshold setting.
                        <!--{cn}一旦设置了阈值设置，将显示数据文件输入。--><span id="Speed_text"></span></p>
                    <!--General inro, including equation, description, usage -->

                    <h5>Usage
                        <!--{cn}用法-->
                    </h5>
                    <p><span>Each field means the threshold of each component except wave. In the case of wave, the threshold needs to be pre-calculated using
                        <!--{cn}每个场都是除波以外的每个分量的阈值。在使用波浪的情况下，需要使用--></span>$H^2T$. <span>User usage is in kwh per day or unit time, the unit time refers to the refresh frequency, which will be used to calculate energy produced in the frame of time.
                        <!--{cn} 预先计算阈值。用户使用单位时间或每天kwh，单位时间指刷新频率，用于计算该时间段内的发电量。--></span></p>

                    <p> The way to calculate energy produced per unit time: a KWH = b KW*s/3600, a is the result, b is the current power, a is the calculated energy. s is the refresh frequency. Refresh frequency in this form is in ms(milliseconds).
                        <!--{cn}单位时间内产生的能量计算方法:a KWH = b KW*s/3600, a为结果，b为当前功率，a为计算能量。s是刷新频率。这种形式的刷新频率以ms(毫秒)为单位。-->
                    </p>
                    <p>In the manual setting, you are able to choose to provide user usage data in the future, usually this means to have a column of data recording user consumption per unit time, it will be used as a source of consumming power. If that
                        file doesn't have user usage, you could set it at here. In the auto generate mode, you have to provide one to let us find the optimal solution(guess a possible one would be fine).
                        <!--{cn}在手动设置中，你可以选择在将来提供用户使用数据，通常这意味着有一列数据记录每单位时间的用户消耗，它将被用作消耗能源。 如果该文件没有用户用法，可以在这里设置它。 在自动生成模式，你必须提供一个让我们找到最佳的解决方案(猜一个大概就好)。-->
                    </p>
                    <h5>Calculation Equation
                        <!--{cn}计算方法-->
                    </h5>

                    <p><b>Wave<!--{cn}波浪能--></b>: $P_{total}=0.6*11*H^2T=6.6H^2T$ <span>H - height of wave T - period<!--{cn}H - 波高 T - 周期--></span></p>

                    <p><b>Ocean Current<!--{cn}海流能--></b>: $P=\frac{\rho v^3 S C_p}{2}=\frac{1050 v^3 \pi1.3^2* 0.45}{2}=1254v^3$ <span>P is the energy captured by the unit, ρ is the fluid density, V is the fluid velocity, and S is the swept area of the impeller<!--{cn}P为机组捕获的能源,ρ为流体密度 , v 为流体 速度, S 为叶轮的扫及面积--></span>$C_p$<span> is the energy utilization coefficient<!--{cn} 为能量利用系数--></span></p>

                    <p><b>Light<!--{cn}光--></b>: $P=\frac{798*H_A}{365*24}=0.09*H_A, H_A$ <span>Total solar radiation per unit area<!--{cn}单位面积太阳能辐照总量--></span></p>

                    <p><b>Wind<!--{cn}风--></b>: $P=\frac{\rho v^3 S C_p}{2}=\frac{1.293 v^3 9852* 0.45}{2}=2866v^3$ <span>P is the energy captured by the unit, ρ is the fluid density, V is the fluid velocity, and S is the swept area of the impeller<!--{cn}P为机组捕获的能源,ρ为流体密度 , v 为流体 速度, S 为叶轮的扫及面积--></span>$C_p$<span> is the energy utilization coefficient<!--{cn} 为能量利用系数--></span></p>

                    <h5>Intro
                        <!--{cn}介绍-->
                    </h5>
                    <p>Check README on
                        <!--{cn}查看--><a href="https://github.com/ShaokangJiang/energy">Github</a> about data file format, fake data file generation and other detailed perspective.
                        <!--{cn}上的自述文件，了解数据文件格式，假数据文件生成和其他详细的细节。-->
                    </p>
                    <p>Check
                        <!--{cn}通过--><a href="https://shaokang.ga/2020/Optimal-Energy-Production/">this post<!--{cn}本文(英文)--></a> to know motivation of designing optimization model and the comparison of different model, and also the final choice.
                        <!--{cn}了解设计优化模型的动机和不同模型的比较，以及最终的选择。-->
                    </p>

                    <p>Check
                        <!--{cn}查看--><a href="https://github.com/ShaokangJiang/energy-javafx">this repository<!--{cn}此存储库--></a> for the java implementation of this project(still in development).
                        <!--{cn}以了解此项目的 java 实现(仍在开发中)。-->
                    </p>


                </div>
            </div>
        </div>

        <div class="col s12 m12 l5">
            <div class="card white z-depth-3">

                <div id="handling-progress" class="">
                    <div id="handling" class=""></div>
                </div>
                <div class="card-content black-text">
                    <span class="card-title">Threshold Setting<!--{cn}阈值调整--></span>
                    <p>Adjust setting as you want. Two types are provided.
                        <!--{cn}根据需要调整设置。提供两种类型。-->
                    </p>
                    <span id="notification"></span>
                </div>

                <div class="card-action">

                    <form id="login" name="login" method="GET" action="run.html" onsubmit="return checkForm()">
                        <div class="row">
                            <p>
                                <label>
                              <input class="with-gap" id="radio1" name="group1" type="radio" value="1" onclick="select1()"/>
                              <span>Manual Set Threshold<!--{cn}手动设定阈值--></span>
                            </label>
                            </p>


                            <div class="input-field col s6">
                                <input disabled id="wind" name="wind" type="text" class="validate" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'') ">
                                <label for="wind">Wind(mph)<!--{cn}风速(每小时英里)--></label>
                            </div>
                            <div class="input-field col s6">
                                <input disabled id="light" name="light" type="text" class="validate" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'') ">
                                <label for="light">Light(LUX)<!--{cn}光(流明)--></label>
                            </div>
                            <div class="input-field col s6">
                                <input disabled id="wave" name="wave" type="text" class="validate" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'') ">
                                <label for="wave">Wave<!--{cn}波浪--></label>
                            </div>
                            <div class="input-field col s6">
                                <input disabled id="current" name="current" type="text" class="validate" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'') ">
                                <label for="current">Ocean Current<!--{cn}洋流--></label>
                            </div>

                            <p class="col s12"><label>
                                <input id="future" name="future" type="checkbox" disabled/>
                                <span>Using the first 30 input data to optimize and get the best possible threshold. <!--{cn}利用前30个输入数据进行优化，得到最佳阈值。--></span>
                              </label></p>

                            <p class="col s6"><label>
                                <input class="with-gap" id="radio2" name="group1" type="radio" checked value="2" onclick="select2()"/>
                                <span>Use History Data<!--{cn}使用历史数据--></span>
                              </label>
                            </p>

                            <div class="input-field col s6">
                                <input id="battery" name="battery" type="text" class="validate" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'') ">
                                <label for="battery">Battery capacity(KWH)<!--{cn}电池容量(千瓦时)--></label>
                            </div>

                            <div class="input-field col s6">
                                <input id="freq" name="freq" type="text" class="validate" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'') ">
                                <label for="freq">Refresh Frequency(ms)<!--{cn}刷新频率(毫秒)--></label>
                            </div>

                            <div class="input-field col s6">
                                <input id="User" name="User" type="text" class="validate" onkeyup="this.value=this.value.replace(/[^\d]/g,'') " onafterpaste="this.value=this.value.replace(/[^\d]/g,'') ">
                                <label for="User">User Usage(kwh/unit time(hrs/freq))<!--{cn}使用量(千瓦时/单位时间(小时/频率))--></label>
                            </div>

                            <div class="file-field input-field col s6">

                                <div class="btn">
                                    <span>File</span>
                                    <input id="history_data" name="history_data" type="file" accept=".csv,text/csv" onchange="loadFile(this)">
                                </div>
                                <div class="file-path-wrapper">
                                    <input placeholder="History data" placeholder-cn="历史数据" id="hist_data" class="file-path validate" type="text">
                                </div>
                            </div>


                            <p class="col s6"><label>
                                    <input id="userUsage" type="checkbox" onchange="userUsageSwitch(this);" disabled/>
                                    <span>I will provide user data in input file in the next page<!--{cn}我将在下一页的输入文件中提供用户数据--></span>
                                  </label></p>






                            <p class="col s9"></p>
                            <button id="submission" class="btn waves-effect waves-light col s3" type="submit" name="action" disabled>Submit<!--{cn}提交-->
                      
                      
                            <i class="material-icons right">send</i>
                    </button>

                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="col s0 m0 l1">
        </div>

    </div>

    <br><br>
    </div>
	
	  <div id="modal1" class="modal modal-fixed-footer">
    <div class="modal-content">
      <h4>Copyright info and Disclaimer<!--{cn}版权信息和免责声明--></h4>
      <p>This website involves multiple open source projects. Agreements are states below. You need to agree with those agreements before using it(clicking the dark area will close this window, which means you agree with those terms of service). Following is the list of open sources projects involved and their license information: <!--{cn}这个网站涉及多个开源项目。协议如下。在使用之前，您需要同意这些协议（单击深色区域将关闭此窗口，这意味着您同意这些服务条款）。以下是所涉及的开放源代码项目及其许可证信息的列表：--></p>
	  
	  <a href="#jsLPSolver" rel="nofollow">jsLPSolver</a><br>
	  <a href="#aframe-orbit-controls-component" rel="nofollow">aframe-orbit-controls-component</a> <br>
	  <a href="#Jquery" rel="nofollow">Jquery</a><br>
	  <a href="#PapaParse" rel="nofollow">PapaParse</a><br>
	  <a href="#A-frame" rel="nofollow">A-frame</a><br>
	  <a href="#echarts" rel="nofollow">echarts</a><br>
	  <a href="#Materialcss" rel="nofollow">Materialcss</a><br>
	  <a href="#A-frame" rel="nofollow">A-frame</a><br>
	  <p>
	  Core part of this website would be unlicense. License for the entire website uses a flexible license depends on functions you used. It pulls the license model from its components as stated above. Click link to reach each components.  <!--{cn}网站的核心部分是unlicense的。整个网站的许可证使用灵活的许可证取决于您使用的功能。它从上面所述的组件中提取许可证模型。单击“链接”可访问每个组件。--></p>
    <a href="https://echarts.apache.org/en/index.html" rel="nofollow" target="_blank" id="echarts">echarts</a> uses Apache 2.0
	<p>
 Apache License<br>
 Version 2.0, January 2004<br>
 http://www.apache.org/licenses/</p>

<p> TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION</p>

<p> 1. Definitions.</p>

<p> &quot;License&quot; shall mean the terms and conditions for use, reproduction,<br>
 and distribution as defined by Sections 1 through 9 of this document.</p>

<p> &quot;Licensor&quot; shall mean the copyright owner or entity authorized by<br>
 the copyright owner that is granting the License.</p>

<p> &quot;Legal Entity&quot; shall mean the union of the acting entity and all<br>
 other entities that control, are controlled by, or are under common<br>
 control with that entity. For the purposes of this definition,<br>
 &quot;control&quot; means (i) the power, direct or indirect, to cause the<br>
 direction or management of such entity, whether by contract or<br>
 otherwise, or (ii) ownership of fifty percent (50%) or more of the<br>
 outstanding shares, or (iii) beneficial ownership of such entity.</p>

<p> &quot;You&quot; (or &quot;Your&quot;) shall mean an individual or Legal Entity<br>
 exercising permissions granted by this License.</p>

<p> &quot;Source&quot; form shall mean the preferred form for making modifications,<br>
 including but not limited to software source code, documentation<br>
 source, and configuration files.</p>

<p> &quot;Object&quot; form shall mean any form resulting from mechanical<br>
 transformation or translation of a Source form, including but<br>
 not limited to compiled object code, generated documentation,<br>
 and conversions to other media types.</p>

<p> &quot;Work&quot; shall mean the work of authorship, whether in Source or<br>
 Object form, made available under the License, as indicated by a<br>
 copyright notice that is included in or attached to the work<br>
 (an example is provided in the Appendix below).</p>

<p> &quot;Derivative Works&quot; shall mean any work, whether in Source or Object<br>
 form, that is based on (or derived from) the Work and for which the<br>
 editorial revisions, annotations, elaborations, or other modifications<br>
 represent, as a whole, an original work of authorship. For the purposes<br>
 of this License, Derivative Works shall not include works that remain<br>
 separable from, or merely link (or bind by name) to the interfaces of,<br>
 the Work and Derivative Works thereof.</p>

<p> &quot;Contribution&quot; shall mean any work of authorship, including<br>
 the original version of the Work and any modifications or additions<br>
 to that Work or Derivative Works thereof, that is intentionally<br>
 submitted to Licensor for inclusion in the Work by the copyright owner<br>
 or by an individual or Legal Entity authorized to submit on behalf of<br>
 the copyright owner. For the purposes of this definition, &quot;submitted&quot;<br>
 means any form of electronic, verbal, or written communication sent<br>
 to the Licensor or its representatives, including but not limited to<br>
 communication on electronic mailing lists, source code control systems,<br>
 and issue tracking systems that are managed by, or on behalf of, the<br>
 Licensor for the purpose of discussing and improving the Work, but<br>
 excluding communication that is conspicuously marked or otherwise<br>
 designated in writing by the copyright owner as &quot;Not a Contribution.&quot;</p>

<p> &quot;Contributor&quot; shall mean Licensor and any individual or Legal Entity<br>
 on behalf of whom a Contribution has been received by Licensor and<br>
 subsequently incorporated within the Work.</p>

<p> 2. Grant of Copyright License. Subject to the terms and conditions of<br>
 this License, each Contributor hereby grants to You a perpetual,<br>
 worldwide, non-exclusive, no-charge, royalty-free, irrevocable<br>
 copyright license to reproduce, prepare Derivative Works of,<br>
 publicly display, publicly perform, sublicense, and distribute the<br>
 Work and such Derivative Works in Source or Object form.</p>

<p> 3. Grant of Patent License. Subject to the terms and conditions of<br>
 this License, each Contributor hereby grants to You a perpetual,<br>
 worldwide, non-exclusive, no-charge, royalty-free, irrevocable<br>
 (except as stated in this section) patent license to make, have made,<br>
 use, offer to sell, sell, import, and otherwise transfer the Work,<br>
 where such license applies only to those patent claims licensable<br>
 by such Contributor that are necessarily infringed by their<br>
 Contribution(s) alone or by combination of their Contribution(s)<br>
 with the Work to which such Contribution(s) was submitted. If You<br>
 institute patent litigation against any entity (including a<br>
 cross-claim or counterclaim in a lawsuit) alleging that the Work<br>
 or a Contribution incorporated within the Work constitutes direct<br>
 or contributory patent infringement, then any patent licenses<br>
 granted to You under this License for that Work shall terminate<br>
 as of the date such litigation is filed.</p>

<p> 4. Redistribution. You may reproduce and distribute copies of the<br>
 Work or Derivative Works thereof in any medium, with or without<br>
 modifications, and in Source or Object form, provided that You<br>
 meet the following conditions:</p>

<p> (a) You must give any other recipients of the Work or<br>
 Derivative Works a copy of this License; and</p>

<p> (b) You must cause any modified files to carry prominent notices<br>
 stating that You changed the files; and</p>

<p> (c) You must retain, in the Source form of any Derivative Works<br>
 that You distribute, all copyright, patent, trademark, and<br>
 attribution notices from the Source form of the Work,<br>
 excluding those notices that do not pertain to any part of<br>
 the Derivative Works; and</p>

<p> (d) If the Work includes a &quot;NOTICE&quot; text file as part of its<br>
 distribution, then any Derivative Works that You distribute must<br>
 include a readable copy of the attribution notices contained<br>
 within such NOTICE file, excluding those notices that do not<br>
 pertain to any part of the Derivative Works, in at least one<br>
 of the following places: within a NOTICE text file distributed<br>
 as part of the Derivative Works; within the Source form or<br>
 documentation, if provided along with the Derivative Works; or,<br>
 within a display generated by the Derivative Works, if and<br>
 wherever such third-party notices normally appear. The contents<br>
 of the NOTICE file are for informational purposes only and<br>
 do not modify the License. You may add Your own attribution<br>
 notices within Derivative Works that You distribute, alongside<br>
 or as an addendum to the NOTICE text from the Work, provided<br>
 that such additional attribution notices cannot be construed<br>
 as modifying the License.</p>

<p> You may add Your own copyright statement to Your modifications and<br>
 may provide additional or different license terms and conditions<br>
 for use, reproduction, or distribution of Your modifications, or<br>
 for any such Derivative Works as a whole, provided Your use,<br>
 reproduction, and distribution of the Work otherwise complies with<br>
 the conditions stated in this License.</p>

<p> 5. Submission of Contributions. Unless You explicitly state otherwise,<br>
 any Contribution intentionally submitted for inclusion in the Work<br>
 by You to the Licensor shall be under the terms and conditions of<br>
 this License, without any additional terms or conditions.<br>
 Notwithstanding the above, nothing herein shall supersede or modify<br>
 the terms of any separate license agreement you may have executed<br>
 with Licensor regarding such Contributions.</p>

<p> 6. Trademarks. This License does not grant permission to use the trade<br>
 names, trademarks, service marks, or product names of the Licensor,<br>
 except as required for reasonable and customary use in describing the<br>
 origin of the Work and reproducing the content of the NOTICE file.</p>

<p> 7. Disclaimer of Warranty. Unless required by applicable law or<br>
 agreed to in writing, Licensor provides the Work (and each<br>
 Contributor provides its Contributions) on an &quot;AS IS&quot; BASIS,<br>
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or<br>
 implied, including, without limitation, any warranties or conditions<br>
 of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A<br>
 PARTICULAR PURPOSE. You are solely responsible for determining the<br>
 appropriateness of using or redistributing the Work and assume any<br>
 risks associated with Your exercise of permissions under this License.</p>

<p> 8. Limitation of Liability. In no event and under no legal theory,<br>
 whether in tort (including negligence), contract, or otherwise,<br>
 unless required by applicable law (such as deliberate and grossly<br>
 negligent acts) or agreed to in writing, shall any Contributor be<br>
 liable to You for damages, including any direct, indirect, special,<br>
 incidental, or consequential damages of any character arising as a<br>
 result of this License or out of the use or inability to use the<br>
 Work (including but not limited to damages for loss of goodwill,<br>
 work stoppage, computer failure or malfunction, or any and all<br>
 other commercial damages or losses), even if such Contributor<br>
 has been advised of the possibility of such damages.</p>

<p> 9. Accepting Warranty or Additional Liability. While redistributing<br>
 the Work or Derivative Works thereof, You may choose to offer,<br>
 and charge a fee for, acceptance of support, warranty, indemnity,<br>
 or other liability obligations and/or rights consistent with this<br>
 License. However, in accepting such obligations, You may act only<br>
 on Your own behalf and on Your sole responsibility, not on behalf<br>
 of any other Contributor, and only if You agree to indemnify,<br>
 defend, and hold each Contributor harmless for any liability<br>
 incurred by, or claims asserted against, such Contributor by reason<br>
 of your accepting any such warranty or additional liability.</p>

<p> END OF TERMS AND CONDITIONS</p>

<p> APPENDIX: How to apply the Apache License to your work.</p>

<p> To apply the Apache License to your work, attach the following<br>
 boilerplate notice, with the fields enclosed by brackets &quot;[]&quot;<br>
 replaced with your own identifying information. (Don't include<br>
 the brackets!) The text should be enclosed in the appropriate<br>
 comment syntax for the file format. We also recommend that a<br>
 file or class name and description of purpose be included on the<br>
 same &quot;printed page&quot; as the copyright notice for easier<br>
 identification within third-party archives.</p>

<p> Copyright [yyyy] [name of copyright owner]</p>

<p> Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);<br>
 you may not use this file except in compliance with the License.<br>
 You may obtain a copy of the License at</p>

<p> http://www.apache.org/licenses/LICENSE-2.0</p>

<p> Unless required by applicable law or agreed to in writing, software<br>
 distributed under the License is distributed on an &quot;AS IS&quot; BASIS,<br>
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br>
 See the License for the specific language governing permissions and<br>
 limitations under the License.</p>

<p></p>

<p>========================================================================<br>
Apache ECharts Subcomponents:</p>

<p>The Apache ECharts project contains subcomponents with separate copyright<br>
notices and license terms. Your use of the source code for these<br>
subcomponents is also subject to the terms and conditions of the following<br>
licenses.</p>

<p>BSD 3-Clause (d3.js):<br>
The following files embed [d3.js](https://github.com/d3/d3) BSD 3-Clause:<br>
 &#96;/src/chart/treemap/treemapLayout.js&#96;,<br>
 &#96;/src/chart/tree/layoutHelper.js&#96;,<br>
 &#96;/src/chart/graph/forceHelper.js&#96;,<br>
 &#96;/src/util/number.js&#96;,<br>
 &#96;/src/scale/Time.js&#96;,<br>
See &#96;/licenses/LICENSE-d3&#96; for details of the license.</p>
    <a href="https://materializecss.com/" rel="nofollow" target="_blank" id="Materialcss">Materialcss</a>
	<p>The MIT License (MIT)</p>

<p>Copyright (c) 2014-2019 Materialize</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy<br>
of this software and associated documentation files (the &quot;Software&quot;), to deal<br>
in the Software without restriction, including without limitation the rights<br>
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell<br>
copies of the Software, and to permit persons to whom the Software is<br>
furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in all<br>
copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR<br>
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,<br>
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE<br>
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER<br>
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,<br>
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE<br>
SOFTWARE.</p>

    <a href="https://aframe.io/" rel="nofollow" target="_blank" id="A-frame">A-frame</a> uses MIT
	
	<p>The MIT License</p>

<p>Copyright &copy; 2015-2017 A-Frame authors.</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy<br>
of this software and associated documentation files (the &quot;Software&quot;), to deal<br>
in the Software without restriction, including without limitation the rights<br>
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell<br>
copies of the Software, and to permit persons to whom the Software is<br>
furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in<br>
all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR<br>
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,<br>
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE<br>
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER<br>
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,<br>
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN<br>
THE SOFTWARE.</p>

    <a href="https://ar-js-org.github.io/AR.js-Docs/" rel="nofollow" target="_blank" id="AR.js">AR.js</a> uses MIT
	
	<p>MIT License</p>

<p>Copyright (c) 2020 AR.js</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy<br>
of this software and associated documentation files (the &quot;Software&quot;), to deal<br>
in the Software without restriction, including without limitation the rights<br>
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell<br>
copies of the Software, and to permit persons to whom the Software is<br>
furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in all<br>
copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR<br>
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,<br>
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE<br>
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER<br>
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,<br>
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE<br>
SOFTWARE.</p>

    <a href="https://www.papaparse.com/" rel="nofollow" target="_blank" id="PapaParse">PapaParse</a> uses MIT
	
	<p>The MIT License (MIT)</p>

<p>Copyright (c) 2015 Matthew Holt</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy of<br>
this software and associated documentation files (the &quot;Software&quot;), to deal in<br>
the Software without restriction, including without limitation the rights to<br>
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of<br>
the Software, and to permit persons to whom the Software is furnished to do so,<br>
subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in all<br>
copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR<br>
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS<br>
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR<br>
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER<br>
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN<br>
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>

   <a href="https://jquery.com/" rel="nofollow" target="_blank" id="Jquery">Jquery</a> uses MIT
   
   <p>Copyright OpenJS Foundation and other contributors, https://openjsf.org/</p>

<p>Permission is hereby granted, free of charge, to any person obtaining<br>
a copy of this software and associated documentation files (the<br>
&quot;Software&quot;), to deal in the Software without restriction, including<br>
without limitation the rights to use, copy, modify, merge, publish,<br>
distribute, sublicense, and/or sell copies of the Software, and to<br>
permit persons to whom the Software is furnished to do so, subject to<br>
the following conditions:</p>

<p>The above copyright notice and this permission notice shall be<br>
included in all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,<br>
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF<br>
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND<br>
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE<br>
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION<br>
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION<br>
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>

   <a href="https://github.com/tizzle/aframe-orbit-controls-component" rel="nofollow" target="_blank" id="aframe-orbit-controls-component">aframe-orbit-controls-component</a> uses MIT
   
   <p>The MIT License (MIT)</p>

<p>Copyright (c) 2015 Kevin Ngo</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy<br>
of this software and associated documentation files (the &quot;Software&quot;), to deal<br>
in the Software without restriction, including without limitation the rights<br>
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell<br>
copies of the Software, and to permit persons to whom the Software is<br>
furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in all<br>
copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR<br>
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,<br>
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE<br>
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER<br>
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,<br>
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE<br>
SOFTWARE.<br>
</p>
	<a href="https://github.com/JWally/jsLPSolver" rel="nofollow" target="_blank" id="jsLPSolver" id="jsLPSolver">jsLPSolver</a> uses Unlicense
	<p>This is free and unencumbered software released into the public domain.</p>

<p>Anyone is free to copy, modify, publish, use, compile, sell, or<br>
distribute this software, either in source code form or as a compiled<br>
binary, for any purpose, commercial or non-commercial, and by any<br>
means.</p>

<p>In jurisdictions that recognize copyright laws, the author or authors<br>
of this software dedicate any and all copyright interest in the<br>
software to the public domain. We make this dedication for the benefit<br>
of the public at large and to the detriment of our heirs and<br>
successors. We intend this dedication to be an overt act of<br>
relinquishment in perpetuity of all present and future rights to this<br>
software under copyright law.</p>

<p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,<br>
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF<br>
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.<br>
IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR<br>
OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,<br>
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR<br>
OTHER DEALINGS IN THE SOFTWARE.</p>

<p>For more information, please refer to <http://unlicense.org></p>
	  
    </div>
    <div class="modal-footer">
	
      <a href="about:blank" class="modal-close waves-effect waves-green btn-flat">DisAgree</a>
      <a class="modal-close waves-effect waves-green btn-flat">Agree</a>
    </div>
  </div>
          

    <footer class="page-footer orange">
        <div class="container">
            <div class="row">
                <h5 class="white-text">Info
                    <!--{cn}信息-->
                </h5>
                <p class="grey-text text-lighten-4">Nothing here.
                    <!--{cn}什么都没有-->
                </p>



            </div>
            <div class="footer-copyright">
                <div class="container">
                    Made by
                    <!--{cn}由--><a class="orange-text text-lighten-3" href="https://shaokang.ga">Shaokang Jiang</a> using
                    <!--{cn}使用--><a class="orange-text text-lighten-3" href="http://materializecss.com">Materialize<!--{cn}Materialize 主题制作--></a>
                </div>
            </div>
    </footer>


    <!--  Scripts-->

    <script src="./js/materialize.min.js"></script>
    <script>
        M.AutoInit();

		$(document).ready(function() {
                $('.modal').modal('open');
        });
        var file;

        function loadFile(use) {
            if (use.files[0] != null && use.files[0].name.indexOf(".csv") != -1) {
                file = use.files[0];
                var successfully = false;
                Papa.parse(file, {
                    header: true,
                    skipEmptyLines: true,
                    dynamicTyping: true,
                    preview: 1,
                    step: function(results, parser) {
                        if (results.data.hasOwnProperty("wind_value") && results.data.hasOwnProperty("wind_count") && results.data.hasOwnProperty("light_value") && results.data.hasOwnProperty("light_count") && results.data.hasOwnProperty("wave_value") && results.data.hasOwnProperty("wave_count") && results.data.hasOwnProperty("current_value") && results.data.hasOwnProperty("current_count")) {
                            successfully |= true;
                        }
                    },
                    complete: function(results, parser) {
                        if (successfully == 1) {
                            if (tran.getLang() == 'cn') document.getElementById("notification").innerHTML = '<font color="red">成功载入</font>';
                            else document.getElementById("notification").innerHTML = '<font color="red">Successfully loaded</font>';
                            document.getElementById("submission").disabled = false;
                        } else {
                            if (tran.getLang() == 'cn') document.getElementById("notification").innerHTML = '<font color="red">无效的文件内容。</font>';
                            else document.getElementById("notification").innerHTML = '<font color="red">Invalid file content.</font>';
                            document.getElementById("submission").disabled = true;
                        }
                    }
                });
            } else {
                use.value = '';
                if (tran.getLang() == 'cn') document.getElementById("notification").innerHTML = '<font color="red">请选择一个csv文件</font>';

                else document.getElementById("notification").innerHTML = '<font color="red">Please select a csv file. </font>';

            }
        }

        function userUsageSwitch(use) {
            if (use.checked) {
                document.getElementById("User").disabled = true;
            } else {
                document.getElementById("User").disabled = false;
            }
        }

        function checkForm() {
            if (checkFormValid()) {
                return false;
            } else {
                location.href = "run.html";
            }
            return true;
        }

        function checkFormValid() {

            document.getElementById('handling').className = 'indeterminate';
            document.getElementById('submission').disabled = true;
            document.getElementById('handling-progress').className = 'progress';
            if (document.getElementById("radio1").checked == true) {
                if (document.getElementById("wind").value == "" ||
                    document.getElementById("light").value == "" || document.getElementById("wave").value == "" ||
                    document.getElementById("current").value == "" || document.getElementById("battery").value == "" ||
                    document.getElementById("freq").value == "" || (document.getElementById("User").disabled == false && document.getElementById("User").value == "")) {


                    if (tran.getLang() == 'cn') document.getElementById("notification").innerHTML = '<font color="red">您需要填写所有空字段。</font>';

                    else
                        document.getElementById("notification").innerHTML = '<font color="red">You need to fill all empty fields. </font>';

                    if (document.getElementById("wind").value == "") document.getElementById("wind").className = 'invalid';
                    else document.getElementById("wind").className = '';
                    if (document.getElementById("light").value == "") document.getElementById("light").className = 'invalid';
                    else document.getElementById("light").className = '';
                    if (document.getElementById("wave").value == "") document.getElementById("wave").className = 'invalid';
                    else document.getElementById("wave").className = '';
                    if (document.getElementById("current").value == "") document.getElementById("current").className = 'invalid';
                    else document.getElementById("current").className = '';
                    if (document.getElementById("battery").value == "") document.getElementById("battery").className = 'invalid';
                    else document.getElementById("battery").className = '';
                    if (document.getElementById("freq").value == "") document.getElementById("freq").className = 'invalid';
                    else document.getElementById("freq").className = '';
                    if (document.getElementById("User").disabled == false && document.getElementById("User").value == "") document.getElementById("User").className = 'invalid';
                    else document.getElementById("User").className = '';
                    document.getElementById('handling').className = '';
                    document.getElementById('handling-progress').className = '';
                    document.getElementById('submission').disabled = false;
                    return true;
                };
                return false;
            }
            if (document.getElementById("radio2").checked == true) {
                if (document.getElementById("User").value == "" || document.getElementById("freq").value == "" ||
                    document.getElementById("hist_data").value == "" || document.getElementById("history_data").value == "" || document.getElementById("battery").value == "") {
                    if (tran.getLang() == 'cn') document.getElementById("notification").innerHTML = '<font color="red">您需要填写所有空字段。</font>';

                    else
                        document.getElementById("notification").innerHTML = '<font color="red">You need to fill all empty fields. </font>';

                    if (document.getElementById("battery").value == "") document.getElementById("battery").className = 'invalid';
                    else document.getElementById("battery").className = '';
                    if (document.getElementById("freq").value == "") document.getElementById("freq").className = 'invalid';
                    else document.getElementById("freq").className = '';
                    if (document.getElementById("User").disabled == false && document.getElementById("User").value == "") document.getElementById("User").className = 'invalid';
                    else document.getElementById("User").className = '';
                    if (document.getElementById("hist_data").value == "") document.getElementById("hist_data").className = 'file-path validate invalid';
                    else document.getElementById("hist_data").className = 'file-path validate';
                    document.getElementById('handling').className = '';
                    document.getElementById('handling-progress').className = '';
                    document.getElementById('submission').disabled = false;
                    return true;
                };
                //solve some optimization problem at here

                var days = 0;
                var model = {};
                var idx = 0;
                var result;
                var freq = parseFloat(document.getElementById("freq").value) / 3600000;
                console.log(freq);
                model["optimize"] = "count";
                model["opType"] = "min";
                model["constraints"] = {};
                model["variables"] = {};
                model["ints"] = {};
                var data_input = {};
                Papa.parse(file, {
                    header: true,
                    skipEmptyLines: true,
                    dynamicTyping: true,
                    step: function(results, parser) {
                        //console.log("Row data:", results.data);
                        //analyze data at here
                        //use == " " || == null to check empty
                        if (!(results.data["wind_value"] == " " || results.data["wind_value"] == null)) {
                            var variable_wind = "v" + idx + "0";
                            data_input[variable_wind] = results.data["wind_value"];
                            model.ints[variable_wind] = 1;
                            model.variables[variable_wind] = {
                                "value": results.data["wind_value"] * results.data["wind_count"] * freq,
                                "count": results.data["wind_count"]
                            };
                            model.variables[variable_wind][variable_wind] = 1;
                            model.constraints[variable_wind] = {
                                "min": 0,
                                "max": 1
                            };
                            days += results.data["wind_count"];
                        }

                        if (!(results.data["light_value"] == " " || results.data["light_value"] == null)) {
                            var variable_light = "v" + idx + "1";
                            data_input[variable_light] = results.data["light_value"];
                            model.ints[variable_light] = 1;
                            model.variables[variable_light] = {
                                "value": results.data["light_value"] * results.data["light_count"] * freq,
                                "count": results.data["light_count"]
                            };
                            model.variables[variable_light][variable_light] = 1;
                            model.constraints[variable_light] = {
                                "min": 0,
                                "max": 1
                            };
                        }

                        if (!(results.data["wave_value"] == " " || results.data["wave_value"] == null)) {
                            var variable_wave = "v" + idx + "2";
                            data_input[variable_wave] = results.data["wave_value"];
                            model.ints[variable_wave] = 1;
                            model.variables[variable_wave] = {
                                "value": results.data["wave_value"] * results.data["wave_count"] * freq,
                                "count": results.data["wave_count"]
                            };
                            model.variables[variable_wave][variable_wave] = 1;
                            model.constraints[variable_wave] = {
                                "min": 0,
                                "max": 1
                            };
                        }

                        if (!(results.data["current_value"] == " " || results.data["current_value"] == null)) {
                            var variable_current = "v" + idx + "3";
                            data_input[variable_current] = results.data["current_value"];
                            model.ints[variable_current] = 1;
                            model.variables[variable_current] = {
                                "value": results.data["current_value"] * results.data["current_count"] * freq,
                                "count": results.data["current_count"]
                            };
                            model.variables[variable_current][variable_current] = 1;
                            model.constraints[variable_current] = {
                                "min": 0,
                                "max": 1
                            };
                        }
                        idx++;
                    },
                    complete: function(results, parser) {
                        console.log(parseFloat(document.getElementById("User").value));
                        console.log(parseInt(document.getElementById("battery").value));
                        var limits = days * parseFloat(document.getElementById("User").value) + parseInt(document.getElementById("battery").value);
                        model.constraints["value"] = {
                            "min": limits
                        };
                        console.log(model);
                        result = solver.Solve(model);

                        console.log(result);

                        var wind_limit = -1;
                        var light_limit = -1;
                        var wave_limit = -1;
                        var current_limit = -1;

                        for (var key in result) {
                            if (data_input.hasOwnProperty(key)) {
                                console.log(key + " -> " + data_input[key]);
                                switch (parseInt(key.slice(-1))) {
                                    case 0:
                                        if (wind_limit == -1) wind_limit = data_input[key];
                                        if (data_input[key] <= wind_limit) wind_limit = data_input[key];
                                        break;
                                    case 1: //light
                                        if (light_limit == -1) light_limit = data_input[key];
                                        if (data_input[key] <= light_limit) light_limit = data_input[key];
                                        // code block
                                        break;
                                    case 2: //wave
                                        if (wave_limit == -1) wave_limit = data_input[key];
                                        if (data_input[key] <= wave_limit) wave_limit = data_input[key];
                                        // code block
                                        break;
                                    case 3: //current
                                        if (current_limit == -1) current_limit = data_input[key];
                                        if (data_input[key] <= current_limit) current_limit = data_input[key];
                                        // code block
                                        break;

                                    default:
                                        // code block
                                }
                            }
                        }

                        document.getElementById("wind").value = (wind_limit == -1) ? 6 : (Math.pow((wind_limit / 2866), (1 / 3))).toFixed(2); //pre defined min value : actual optimal 
                        document.getElementById("light").value = (light_limit == -1) ? 1100 : (light_limit / 0.09).toFixed(2);
                        document.getElementById("wave").value = (wave_limit == -1) ? 2 : (wave_limit / 6.6).toFixed(2);
                        document.getElementById("current").value = (current_limit == -1) ? 2 : (Math.pow((current_limit / 1254), (1 / 3))).toFixed(2);
                        console.log("wind:" + wind_limit + "light" + light_limit + "wave:" + wave_limit + "current" + current_limit);
                        console.log(result);
                        if (!result.feasible) {
                            if (tran.getLang() == 'cn')
                                document.getElementById("notification").innerHTML = '<font color="red">发现不可行的解决方案。请在提交前重新检查每个值。</font>';
                            else
                                document.getElementById("notification").innerHTML = '<font color="red">Infeasible solution found. Please recheck each value before submit.</font>';
                            select1();
                            document.getElementById("radio2").checked = false;
                            document.getElementById("radio1").checked = true;
                            document.getElementById("wind").placeholder = "";
                            document.getElementById("wind").focus();
                            document.getElementById("light").placeholder = "";
                            document.getElementById("light").focus();
                            document.getElementById("wave").placeholder = "";
                            document.getElementById("wave").focus();
                            document.getElementById("current").placeholder = "";
                            document.getElementById("current").focus();
                            document.getElementById("current").blur();
                            document.getElementById('handling').className = '';
                            document.getElementById('handling-progress').className = '';
                            document.getElementById('submission').disabled = false;
                            document.getElementById("future").disabled = true;
                        } else {
                            select1();
                            document.getElementById("radio2").checked = false;
                            document.getElementById("radio1").checked = true;
                            document.getElementById("login").submit();
                        }
                    }
                });
            }
            return true;
        }

        function select2() {

            document.getElementById("wind").disabled = true;
            document.getElementById("light").disabled = true;
            document.getElementById("wave").disabled = true;
            document.getElementById("current").disabled = true;
            document.getElementById("battery").disabled = false;
            document.getElementById("freq").disabled = false;
            document.getElementById("future").disabled = true;

            document.getElementById('submission').disabled = true; //false when valid file selected
            document.getElementById("hist_data").disabled = false;
            document.getElementById("hist_data").value = '';
            document.getElementById("history_data").disabled = false;
            document.getElementById("history_data").value = '';
            document.getElementById("userUsage").disabled = true;
            document.getElementById("User").disabled = false;

        }

        function select1() {
            document.getElementById("wind").disabled = false;
            document.getElementById("light").disabled = false;
            document.getElementById("wave").disabled = false;

            document.getElementById('submission').disabled = false; //false when valid file selected
            document.getElementById("current").disabled = false;
            document.getElementById("battery").disabled = false;
            document.getElementById("freq").disabled = false;
            document.getElementById("hist_data").disabled = true;
            document.getElementById("history_data").disabled = true;
            document.getElementById("userUsage").disabled = false;
            document.getElementById("future").disabled = false;
            userUsageSwitch(document.getElementById("userUsage"));
        }

        //1-wind 2-light 3-wave 4-current
        /**
        function optimization(model) {
            return solver.Solve(model);
            //document.getElementById("Speed_text").innerText = "feasible:" + results.feasible + ", result: " + results.result + ", bounded: " + results.bounded + ", brit: " + results.brit + ", yank: " + results.yank;
        }*/

        var tran;

        var lang = navigator.language || navigator.browserLanguage;
        if (/^zh/.test(lang)) {
            //alert('中文');
            tran = new Translater({
                lang: "cn"
            });
            document.getElementById('nav-en').className = '';
            document.getElementById('nav-cn').className = 'active';
            document.getElementById('nav-en-m').className = '';
            document.getElementById('nav-cn-m').className = 'active';
        } else {
            //alert('不是中文');
            tran = new Translater({
                lang: "en"
            });
        }
    </script>

</body>

</html>

</html>